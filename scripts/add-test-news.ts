/**
 * Quick script to add test news items to the database
 * Run with: npx tsx scripts/add-test-news.ts
 */
import { getDb } from "../server/db.js";
import { news } from "../drizzle/schema.js";

async function addTestNews() {
  const db = await getDb();
  if (!db) {
    console.error("โ Database not available");
    process.exit(1);
  }

  const testNews = [
    {
      title: "ุฅุตุฏุงุฑ ุตููู ุฅุณูุงููุฉ ุฌุฏูุฏุฉ ุจูููุฉ 500 ููููู ุฑูุงู",
      summary: "ุฃุนููุช ุดุฑูุฉ ุงูุชูููู ุงูุฅุณูุงูู ุนู ุฅุตุฏุงุฑ ุฌุฏูุฏ ูู ุงูุตููู ุจูููุฉ 500 ููููู ุฑูุงู ุณุนูุฏูุ ุจูุฏู ุชูููู ูุดุงุฑูุน ุงูุชูููุฉ ุงููุณุชุฏุงูุฉ ูู ุงูููุทูุฉ.",
      content: "ุฃุนููุช ุดุฑูุฉ ุงูุชูููู ุงูุฅุณูุงูู ุงููุจุฑู ุงูููู ุนู ุฅุตุฏุงุฑ ุฌุฏูุฏ ูู ุงูุตููู ุงูุฅุณูุงููุฉ ุจูููุฉ 500 ููููู ุฑูุงู ุณุนูุฏู. ูุฃุชู ูุฐุง ุงูุฅุตุฏุงุฑ ูู ุฅุทุงุฑ ุงุณุชุฑุงุชูุฌูุฉ ุงูุดุฑูุฉ ูุชูุณูุน ูุทุงู ุชูููู ุงููุดุงุฑูุน ุงููุชูุงููุฉ ูุน ุงูุดุฑูุนุฉ ุงูุฅุณูุงููุฉ. ููุงู ุฑุฆูุณ ูุฌูุณ ุงูุฅุฏุงุฑุฉ ุฅู ุงูุตููู ุงูุฌุฏูุฏุฉ ุณุชุฎุตุต ูุชูููู ูุดุงุฑูุน ุงูุชูููุฉ ุงููุณุชุฏุงูุฉ ูุงูุจููุฉ ุงูุชุญุชูุฉ ูู ุงูููุทูุฉ. ูุฃุถุงู ุฃู ุงูุฅุตุฏุงุฑ ุญุตู ุนูู ููุงููุฉ ููุฆุฉ ุงูุณูู ุงููุงููุฉ ูููุฆุฉ ุงููุญุงุณุจุฉ ูุงููุฑุงุฌุนุฉ ูููุคุณุณุงุช ุงููุงููุฉ ุงูุฅุณูุงููุฉ (AAOIFI).",
      source: "AAOIFI",
      category: "sukuk" as const,
      publishedAt: new Date(),
    },
    {
      title: "ุชูุฑูุฑ: ููู ูุทุงุน ุงูุจููู ุงูุฅุณูุงููุฉ ุจูุณุจุฉ 15% ูู ุงูุฑุจุน ุงูุฃูู",
      summary: "ูุดู ุชูุฑูุฑ ุตุงุฏุฑ ุนู ุงูุจูู ุงููุฑูุฒู ุนู ููู ููุญูุธ ูู ูุทุงุน ุงูุจููู ุงูุฅุณูุงููุฉ ุจูุณุจุฉ 15% ุฎูุงู ุงูุฑุจุน ุงูุฃูู ูู ุงูุนุงู ุงูุญุงูู.",
      content: "ูุดู ุชูุฑูุฑ ุตุงุฏุฑ ุนู ุงูุจูู ุงููุฑูุฒู ุงูููู ุนู ููู ููุญูุธ ูู ูุทุงุน ุงูุจููู ุงูุฅุณูุงููุฉ ุจูุณุจุฉ 15% ุฎูุงู ุงูุฑุจุน ุงูุฃูู ูู ุงูุนุงู ุงูุญุงูู ููุงุฑูุฉ ุจุงููุชุฑุฉ ููุณูุง ูู ุงูุนุงู ุงููุงุถู. ูุฃุดุงุฑ ุงูุชูุฑูุฑ ุฅูู ุฃู ุฅุฌูุงูู ุฃุตูู ุงูุจููู ุงูุฅุณูุงููุฉ ุจูุบุช 2.5 ุชุฑููููู ุฑูุงูุ ูุน ุฒูุงุฏุฉ ูู ุนุฏุฏ ุงูุญุณุงุจุงุช ุงูุฌุฏูุฏุฉ ุจูุณุจุฉ 20%. ูุฃูุฏ ุงููุญูููู ุงููุงูููู ุฃู ูุฐุง ุงูููู ูุนูุณ ุซูุฉ ุงููุณุชุซูุฑูู ูู ุงูููุชุฌุงุช ุงููุงููุฉ ุงูุฅุณูุงููุฉ ูุฒูุงุฏุฉ ุงููุนู ุจุฃูููุฉ ุงูุชูููู ุงููุชูุงูู ูุน ุงูุดุฑูุนุฉ.",
      source: "ุงูุจูู ุงููุฑูุฒู",
      category: "banking" as const,
      publishedAt: new Date(Date.now() - 86400000), // Yesterday
    },
    {
      title: "ูุชูู ุฌุฏูุฏุฉ ุญูู ุงูุงุณุชุซูุงุฑ ูู ุงูุนููุงุช ุงูุฑูููุฉ",
      summary: "ุฃุตุฏุฑุช ููุฆุฉ ุงููุชูู ุงูุดุฑุนูุฉ ูุชูู ุฌุฏูุฏุฉ ุญูู ุญูู ุงูุงุณุชุซูุงุฑ ูู ุงูุนููุงุช ุงูุฑูููุฉุ ูุคูุฏุฉ ุนูู ุถุฑูุฑุฉ ุงูุงูุชุฒุงู ุจุงูุถูุงุจุท ุงูุดุฑุนูุฉ.",
      content: "ุฃุตุฏุฑุช ููุฆุฉ ุงููุชูู ุงูุดุฑุนูุฉ ุงูููู ูุชูู ุฌุฏูุฏุฉ ุญูู ุญูู ุงูุงุณุชุซูุงุฑ ูู ุงูุนููุงุช ุงูุฑูููุฉ. ูุฃูุฏุช ุงูููุฆุฉ ูู ูุชูุงูุง ุนูู ุถุฑูุฑุฉ ุงูุงูุชุฒุงู ุจุงูุถูุงุจุท ุงูุดุฑุนูุฉ ุนูุฏ ุงูุชุนุงูู ูุน ุงูุนููุงุช ุงูุฑูููุฉุ ูุน ุงูุชุฃููุฏ ุนูู ุฃู ุงูุงุณุชุซูุงุฑ ูู ุงูุนููุงุช ุงููุดูุฑุฉ ุงูุชู ูุง ุชูุซู ุฃุตููุงู ุญููููุฉ ุฃู ูุง ุชุฎุถุน ูุฑูุงุจุฉ ุดุฑุนูุฉ ูุนุชุจุฑ ูุญุธูุฑุงู. ูุฃุถุงูุช ุงูููุฆุฉ ุฃู ุงูุงุณุชุซูุงุฑ ูู ุงูุนููุงุช ุงูุฑูููุฉ ุงููุฑุชุจุทุฉ ุจุฃุตูู ุญููููุฉ ูุงููุชูุงููุฉ ูุน ุงูุดุฑูุนุฉ ุงูุฅุณูุงููุฉ ูุฏ ูููู ุฌุงุฆุฒุงู ุจุดุฑูุท ูุนููุฉ. ูุฏุนุช ุงูููุฆุฉ ุงููุณุชุซูุฑูู ุฅูู ุงุณุชุดุงุฑุฉ ุงูุฌูุงุช ุงูุดุฑุนูุฉ ุงููุฎุชุตุฉ ูุจู ุงุชุฎุงุฐ ุฃู ูุฑุงุฑ ุงุณุชุซูุงุฑู.",
      source: "ููุฆุฉ ุงููุชูู ุงูุดุฑุนูุฉ",
      category: "fatwa" as const,
      publishedAt: new Date(Date.now() - 172800000), // 2 days ago
    },
    {
      title: "ุงุฑุชูุงุน ูุคุดุฑ ุงูุฃุณูู ุงูุฅุณูุงููุฉ ุจูุณุจุฉ 8%",
      summary: "ุณุฌู ูุคุดุฑ ุงูุฃุณูู ุงููุชูุงููุฉ ูุน ุงูุดุฑูุนุฉ ุงูุฅุณูุงููุฉ ุงุฑุชูุงุนุงู ููุญูุธุงู ุจูุณุจุฉ 8% ุฎูุงู ุฌูุณุฉ ุงูุชุฏุงูู ุงููููุ ูุฏุนููุงู ุจุฒูุงุฏุฉ ุงูุทูุจ ุนูู ุงูุฃุณูู ุงููุงููุฉ.",
      content: "ุณุฌู ูุคุดุฑ ุงูุฃุณูู ุงููุชูุงููุฉ ูุน ุงูุดุฑูุนุฉ ุงูุฅุณูุงููุฉ ุงุฑุชูุงุนุงู ููุญูุธุงู ุจูุณุจุฉ 8% ุฎูุงู ุฌูุณุฉ ุงูุชุฏุงูู ุงููููุ ูุฏุนููุงู ุจุฒูุงุฏุฉ ุงูุทูุจ ุนูู ุงูุฃุณูู ุงููุงููุฉ ูุงูุงุณุชุซูุงุฑุงุช ุงููุชูุงููุฉ ูุน ุงูุดุฑูุนุฉ. ูุฃุดุงุฑ ุงููุญูููู ุฅูู ุฃู ูุฐุง ุงูุงุฑุชูุงุน ูุฃุชู ูู ุฅุทุงุฑ ุชุญุณู ูุนูููุงุช ุงููุณุชุซูุฑูู ูุฒูุงุฏุฉ ุงูุซูุฉ ูู ุงูุณูู ุงููุงููุฉ ุงูุฅุณูุงููุฉ. ููุง ุณุงููุช ุงูุฃุฎุจุงุฑ ุงูุฅูุฌุงุจูุฉ ุนู ุฃุฏุงุก ุงูุดุฑูุงุช ุงููุฏุฑุฌุฉ ูู ุงููุคุดุฑ ูู ุฏุนู ูุฐุง ุงูุงุฑุชูุงุน. ูุชููุน ุงูุฎุจุฑุงุก ุงุณุชูุฑุงุฑ ูุฐุง ุงูุงุชุฌุงู ุงูุฅูุฌุงุจู ุฎูุงู ุงููุชุฑุฉ ุงููุงุฏูุฉ.",
      source: "ุจูุฑุตุฉ ุงูุฃูุฑุงู ุงููุงููุฉ",
      category: "stocks" as const,
      publishedAt: new Date(Date.now() - 259200000), // 3 days ago
    },
  ];

  try {
    console.log("๐ฐ Adding test news items...");
    for (const item of testNews) {
      const result = await db.insert(news).values(item).returning({ id: news.id });
      console.log(`โ Added: ${item.title} (ID: ${result[0].id})`);
    }
    console.log(`\nโจ Successfully added ${testNews.length} news items!`);
    process.exit(0);
  } catch (error) {
    console.error("โ Error adding news:", error);
    process.exit(1);
  }
}

addTestNews();
